---
layout: post
title: "20251231+科研日志"
subtitle: "Plan and Realization"
background: '/img/bg-sci-log.jpg'
categories: sci-log
permalink: /sci-log_posts/20251231-sci-log/
---

### 提示：

这是一个备忘录，如果科研没有什么思路，就不会记录在此，而不是没有记录就没有科研，有的时候是一个思路需要好几天来验证。

### 日志：

MagneticTB构造TB模型，基于对称性

第n次测试，代码刚好能跑，但物理边界很有问题：



```shell

Needs["MagneticTB`"]
msgop[bnsdict[{99, 165}]]
sgop = msgop[bnsdict[{99, 165}]]
init[lattice -> {{a, 0, 0}, {0, a, 0}, {0, 0, c}}, 
  lattpar -> {a -> 4.1630263607523368, c -> 16.6440706251267727}, 
  wyckoffposition -> {{{0.0, 0.5, 0.503}, {0, 0, 
      1}}, {{0.4999997757884529, 0.999, 0.5036214396997352}, {0, 
      0, -1}}, {{0.999, 0.999, 0.610}, {0, 0, 0}}, {{0.999, 0.0, 
      0.396}, {0, 0, 0}}, {{0.5, 0.5, 0.486}, {0, 0, 0}}}, 
  symminformation -> sgop, 
  basisFunctions -> {{"dxydn", "dyzdn", "dx2-y2dn", "dz2dn", "dz2up", 
     "dx2-y2up", "dxzup", "dxyup", "pxup", "pyup", "pxdn", "pydn"}}];
hamsoc = Sum[symham[i], {i, 3}];
MatrixForm[hamsoc]
```



第二次

```shell

basisFunctions -> {{"dxydn", "dyzdn", "dx2-y2dn", "dz2dn", "dxzdn", 
   "dz2up", "dx2-y2up", "dxzup", "dxyup", "dyzdn", "dxydn", "dyzdn", 
   "dx2-y2dn", "dz2dn", "dxzdn", "dz2up", "dx2-y2up", "dxzup", 
   "dxyup", "dyzup", "pxup", "pyup", "pzup", "pxdn", "pydn", "pzdn", 
   "pxup", "pyup", "pzup", "pxdn", "pydn", "pzdn", "pxup", "pyup", 
   "pzup", "pxdn", "pydn", "pzdn"

```

第三次：有报错，但能跑

```shell
Needs["MagneticTB`"]
msgop[bnsdict[{99, 165}]]
sgop = msgop[bnsdict[{99, 165}]]
init[lattice -> {{a, 0, 0}, {0, a, 0}, {0, 0, c}}, 
  lattpar -> {a -> 4.1630263607523368, c -> 16.6440706251267727}, 
  wyckoffposition -> {{{0.0, 0.5, 0.503}, {0, 0, 1}}, {{0.5, 0, 
      0.5036214396997352}, {0, 0, -1}}, {{0.0, 0.0, 0.610}, {0, 0, 
      0}}, {{0.0, 0.0, 0.396}, {0, 0, 0}}, {{0.5, 0.5, 0.486}, {0, 0, 
      0}}}, symminformation -> sgop, 
  basisFunctions -> {{"dxydn", "dyzdn", "dx2-y2dn", "dz2dn", "dz2up", 
     "dx2-y2up", "dxzup", "dxyup", "pxup", "pyup", "pxdn", "pydn", 
     "pzup", "pzdn"}}];
hamsoc = Sum[symham[i], {i, 3}];
MatrixForm[hamsoc]
```

第n次，我认为考虑的原子太多了，只考虑磁性原子的其中几个轨道即可,绘制能带地方不一定对。

```shell
Needs["MagneticTB`"]
msgop[bnsdict[{99, 165}]]
sgop = msgop[bnsdict[{99, 165}]]
init[lattice -> {{a, 0, 0}, {0, a, 0}, {0, 0, c}}, 
  lattpar -> {a -> 4.1630263607523368, c -> 16.6440706251267727}, 
  wyckoffposition -> {{{0.0, 0.5, 0.503}, {0, 0, 1}}, {{0.5, 0, 
      0.5036214396997352}, {0, 0, -1}}, {{0.0, 0.0, 0.610}, {0, 0, 
      0}}, {{0.0, 0.0, 0.396}, {0, 0, 0}}, {{0.5, 0.5, 0.486}, {0, 0, 
      0}}}, symminformation -> sgop, 
  basisFunctions -> {{"dxydn", "dyzdn", "dx2-y2dn", 
     "dz2dn"}, {"dz2up", "dx2-y2up", "dxyup", "dyzup"}, {"pxup", 
     "pydn"}, {"pxup", "pydn"}, {"pxup", "pydn"}}];
hamsoc = Sum[symham[i], {i, 3}];
MatrixForm[hamsoc]
path = {{{{0, 0, 0}, {0.5, 0.0, 0.0}}, {"G", 
     "X"}}, {{{0.5, 0.0, 0.0}, {0.5, 0.5, 0.0}}, {"X", "M"}},
   {{{0.5, 0.5, 0.0}, {0.0, 0.5, 0.0}}, {"M", "Y"}},
   {{{0.0, 0.5, 0.0}, {0, 0, 0}}, {"Y", "G"}}};
bandManipulate[path, 20, ham]
bandplot[path, 200, ham, {e1 -> 0.05, ti -> 0.5 , r1 -> 0}]
```

### 日程

早上2点睡，5点起床写代码，完成pytb边缘态计算的代码，并成功跑出来和wannier tools一样的结果，现在准备用对称化哈密顿量解决这个问题。看看手动搭建的TB模型是否结果也能对应的上或者更好。



### 常用命令
```shell
conda deactivate

```

```shell

gnuplot surfdos_l.gnu surfdos_l_only.gnu surfdos_r.gnu surfdos_r_only.gnu

```

```shell

conda activate mrx_phonopy
phonopy --symmetry --tolerance 0.005

```
查看已经安装的环境
```shell

conda info --envs

```

```shell

sed -i 's/\r$//' 6_J_results.sh\

```
