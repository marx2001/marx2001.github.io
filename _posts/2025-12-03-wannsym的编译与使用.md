---
layout: post
title: "wansymm的对称化功能"
subtitle: "Experience Sharing"
background: '/img/bg-sci-note.jpg'
categories: sci-note
permalink: /sci-note_posts/20251203-wannberrier
---


# <center>Recording​</center>


### 1. 步骤
其余步骤同知乎上文章https://zhuanlan.zhihu.com/p/675502389和https://zhuanlan.zhihu.com/p/675502472，但是build文件夹内并没有出现lib，所以我把路径放到lib64文件夹中，即在配置变量这个步骤
中，把路径指定到lib64文件夹，而不是知乎上写的build/lib。

给命令授权：wannsymm.x ，在cssong目录中的bashrc内添加环境变量的路径即可。

```shell
conda activate wannier-sym
```
```shell

wannsymm.x ws.in

```
没节点了，直接管理节点上用1核跑

```shell

nohup mpirun -np 1 /public/home/cssong/app/vasp/intel_2021.3.0/544+w90-2.1/vasp_std > log 2>&1 &

nohup mpirun -np 1 /public/home/cssong/app/vasp/intel_2021.3.0/5.4.4/vasp_ncl > log 2>&1 &

```

绘图脚本记录：
```shell

gnuplot surfdos_bulk.gnu surfdos_l.gnu surfdos_l_only.gnu surfdos_r.gnu surfdos_r_only.gnu

```

正式开始计算：

1. 采用模板，ws.in，进行第一步计算：

```python

DFTcode  = VASP

Spinors  = T

SeedName ='wannier90'

Use_POSCAR = 'POSCAR'

begin projections
Nb  :   d
Se : p
O : p
end projections

MAGMOM = 0 0 0.76 0 0 -0.76 0 0 0 0 0 0 0 0 0
symm_magnetic_tolerance = 0.0001


Global_TRsymm= F



```

2. 第二步加入高对称点路径

加入restart = T 绘制对称化后的能带

```python

begin kpath
  G  0.000000  0.000000  0.000000   X  0.500000  0.000000  0.000000
  X  0.500000  0.000000  0.000000   M 0.500000  0.500000  0.000000
  M 0.500000  0.500000  0.000000   Y  0.000000  0.500000  0.000000
  Y  0.000000  0.500000  0.000000   G  0.000000  0.000000  0.000000
end kpath


restart = T

```